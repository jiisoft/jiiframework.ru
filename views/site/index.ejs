<%
"use strict";

/** @typedef {app.models.PackageItem[]} packageItems */
/** @this {Jii.view.WebView} */
(function() {
%>

<div class="slide">
    <img src="/img/slide-bg.jpg" />
    <div class="text-slogan">
        <span>Jii &mdash; фреймворк,</span>
        <br /><span>который Вы уже знаете</span>
    </div>
    <div class="text-about-border"></div>
    <div class="text-about">
        <div class=" container container-fluid">
        <p>
            Архитектура и API фреймворка Jii полностью базируется на PHP фреймворке
            <a href="http://www.yiiframework.com/" target="_blank">Yii 2.0</a>, взяв из него лучшие стороны и
            сохраняя преимущества JavaScript.
        </p>
        <p>
            Соответствие API значительно снижает порог вхождения в Jii Framework.
        </p>
    </div>
    </div>
</div>

<div class="container container-fluid">
    <h1 class="text-center">Что есть и что будет?</h1>
    <div class="col-md-6">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Уже реализовано</h3>
            </div>
            <div class="panel-body">
                <ul style="margin-bottom: 10px;">
                    <li>Конструктор запросов, Active Record (MySQL), Валидация моделей</li>
                    <li>HTTP сервер с роутингом и генерацией URL</li>
                    <li>Структурные составляющие: Приложение, Модуль, Компонент...</li>
                    <li>Использование Jii в браузере</li>
                    <li>Масштабируемый и устойчивый к нагрузкам комет-сервер и клиент</li>
                    <li><a href="/guide">...</a></li>
                </ul>

            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Ближайшие планы</h3>
            </div>
            <div class="panel-body">
                <ul>
                    <li>Клиент-сервер биндинги для синхронизации данных</li>
                    <li>Аутентификация и авторизация</li>
                </ul>
                Есть пожелания или предложения? Пиши на <a href="mailto:affka@affka.ru">affka@affka.ru</a>
            </div>
        </div>
    </div>
</div>

<div class="container container-fluid index-help-container">
    <div class="col-md-12">
        <div class="alert alert-success" role="alert">
            <div class="btn-group" role="group" style="padding-right: 10px;">
                <a href="https://github.com/jiisoft/jii/watchers" class="btn btn-default btn-sm" target="_blank"><span class="glyphicon glyphicon-eye-open"></span> Watch</a>
                <a href="https://github.com/jiisoft/jii/stargazers" class="btn btn-default btn-sm" target="_blank"><span class="glyphicon glyphicon-star"></span> Star</a>
            </div>
            <b>Следи за обновлениями на <a href="https://github.com/jiisoft/jii">GitHub</a>!</b>
        </div>
    </div>
</div>

<div class="container container-fluid example-container">
    <h1 class="text-center">Пример простейшего приложения</h1>
    <p>
        Ниже представлен пример простейшего приложения, которое запускает веб-сервер и генерирует страницу с надписью "Hello World".
    </p>

    <div class="example-nav-container col-md-3" role="tabpanel">

        <ul class="nav nav-pills nav-stacked nav-tabs" role="tablist">
            <% Jii._.each(packageItems, function(packageItem) { %>
            <li role="presentation" class="<%- packageItem.get('isEntryScript') ? 'active' : '' %> <%- packageItem.get('isDir') ? 'directory' : '' %>" style="padding-left:  <%- packageItem.get('level') * 18 %>px;">
                <% if (packageItem.get('isDir')) { %>
                <span>
                        <span class="glyphicon <%- packageItem.get('glyphIcon') %>"></span>
                    <%- packageItem.get('name') %>
                    </span>
                <% } else { %>
                <a href="#<%- packageItem.get('id') %>" aria-controls="<%- packageItem.get('id') %>" role="tab" data-toggle="tab">
                    <span class="glyphicon <%- packageItem.get('glyphIcon') %>"></span>
                    <%- packageItem.get('name') %>
                </a>
                <% } %>
            </li>
            <% }) %>
        </ul>

        <div class="alert alert-warning" role="alert">
            <h3>Хочешь ещё?</h3>
            <p>
                Сайт <a href="http://jiiframework.ru/">jiiframework.ru</a> тоже написан на фреймворке Jii и его
                исходный код ты можешь увидеть на <a href="https://github.com/jiisoft/jiiframework.ru" target="_blank">GitHub</a>.
            </p>
        </div>

    </div>
    <div class="example-source-container col-md-9" style="min-height: 550px;">

        <!-- Tab panes -->
        <div class="tab-content">
            <% Jii._.each(packageItems, function(packageItem) { %>
            <% if (!packageItem.get('isDir')) { %>
            <div role="tabpanel" class="tab-pane <%- packageItem.get('isEntryScript') ? 'active' : '' %>" id="<%- packageItem.get('id') %>">
                <pre><code><%= packageItem.get('source') %></code></pre>
            </div>
            <% } %>
            <% }) %>
        </div>

    </div>
</div>

<div class="container container-fluid index-help-container">
    <h1 class="text-center">А я могу чем-то помочь?</h1>
    <div class="thumbnail-cat-img">
        <iframe frameborder="0" allowtransparency="true" scrolling="no" src="https://money.yandex.ru/embed/donate.xml?account=410012985072912&quickpay=donate&payment-type-choice=on&default-sum=500&targets=%D0%9D%D0%B0+%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D1%82%D0%B8%D0%B5+%D1%84%D1%80%D0%B5%D0%B9%D0%BC%D0%B2%D0%BE%D1%80%D0%BA%D0%B0+Jii&project-name=&project-site=http%3A%2F%2Fjiiframework.ru&button-text=05&successURL=http%3A%2F%2Fjiiframework.ru" width="508" height="78"></iframe>
    </div>
    <div class="index-help-text">
        <p>
            Конечно! Сейчас <a href="http://affka.ru" target="_blank">я</a> разрабатываю фреймворк один,
            в свободное от работы время, которого всегда не хватает. Поэтому:
        </p>
        <p>
            <span class="glyphicon glyphicon-user"></span>
            <b>Во-первых</b>, ты можешь вступить в команду разработчиков &mdash; просто <a href="mailto:affka@affka.ru">свяжись</a> со мной.
        </p>
        <p>
            <span class="glyphicon glyphicon-ruble"></span>
            <b>Во-вторых</b>, если тебе нравятся мои труды, то ты можешь поддержать проект финансово. Это мотивирует меня уделять проекту ещё больше времени.
        </p>
        <p>
            <span class="glyphicon glyphicon-thumbs-up"></span>
            <b>В-третьих</b>, ты можешь просто рассказать о фреймворке коллегам, им наверняка будет интересно!
        </p>
    </div>
</div>

<% }).call(this) %>